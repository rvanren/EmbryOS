Added context switching and non-preemptive in-kernel processes
